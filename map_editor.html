<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>Map Coordinate Editor</title>
    <style>
        body {
            background-color: #121212;
            color: #e0e0e0;
            font-family: sans-serif;
            text-align: center;
            margin: 0; padding: 20px;
        }
        h1 { color: #c0a062; font-family: 'serif'; }
        
        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–∞—Ä—Ç–∏ */
        #map-container {
            position: relative;
            display: inline-block;
            border: 2px solid #c0a062;
            cursor: crosshair; /* –ö—É—Ä—Å–æ—Ä-—Ö—Ä–µ—Å—Ç–∏–∫ –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç—ñ */
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
        }

        #world-map {
            display: block;
            max-width: 1000px; /* –û–±–º–µ–∂–µ–Ω–Ω—è —à–∏—Ä–∏–Ω–∏ –¥–ª—è –∑—Ä—É—á–Ω–æ—Å—Ç—ñ */
            height: auto;
        }

        /* –ß–µ—Ä–≤–æ–Ω–∞ —Ç–æ—á–∫–∞, —è–∫–∞ –ø–æ–∫–∞–∑—É—î –¥–µ –º–∏ –∫–ª—ñ–∫–Ω—É–ª–∏ */
        #click-marker {
            position: absolute;
            width: 10px; height: 10px;
            background-color: red;
            border: 2px solid white;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none; /* –©–æ–± –Ω–µ –∑–∞–≤–∞–∂–∞–ª–∞ –∫–ª—ñ–∫–∞—Ç–∏ */
            display: none;
        }

        /* –ü–∞–Ω–µ–ª—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ */
        .output-panel {
            margin-top: 20px;
            padding: 15px;
            background: #222;
            border-top: 1px solid #444;
            position: sticky;
            bottom: 0;
        }

        input {
            width: 70%;
            padding: 10px;
            font-size: 16px;
            background: #111;
            color: #0f0; /* –ó–µ–ª–µ–Ω–∏–π –∫–æ–ª—ñ—Ä —è–∫ —É —Ö–∞–∫–µ—Ä—ñ–≤ */
            border: 1px solid #555;
            font-family: monospace;
        }

        button {
            padding: 10px 20px;
            font-size: 16px;
            background: #c0a062;
            border: none;
            cursor: pointer;
            font-weight: bold;
        }
        button:hover { background: #d4b581; }
    </style>
</head>
<body>

    <h1>üó∫ –†–µ–¥–∞–∫—Ç–æ—Ä –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç</h1>
    <p>–ö–ª—ñ–∫–Ω–∏ –Ω–∞ –∫–∞—Ä—Ç—ñ, —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ –¥–ª—è <code>map.html</code></p>

    <div id="map-container">
        <img id="world-map" src="https://i.im.ge/2025/11/26/4hXkPS.Far-Lands.png" alt="World Map">
        <div id="click-marker"></div>
    </div>

    <div class="output-panel">
        <label>ID –õ–æ–∫–∞—Ü—ñ—ó: <input type="number" id="loc-id" value="9" style="width: 50px;"></label>
        <label>–ù–∞–∑–≤–∞: <input type="text" id="loc-name" value="–ù–æ–≤–∞ –õ–æ–∫–∞—Ü—ñ—è" style="width: 150px; color:white;"></label>
        <br><br>
        <input type="text" id="result-code" readonly placeholder="–ö–ª—ñ–∫–Ω–∏ –Ω–∞ –∫–∞—Ä—Ç—É...">
        <button onclick="copyToClipboard()">üìã –ö–æ–ø—ñ—é–≤–∞—Ç–∏</button>
    </div>

    <script>
        const mapImg = document.getElementById('world-map');
        const marker = document.getElementById('click-marker');
        const output = document.getElementById('result-code');
        const idInput = document.getElementById('loc-id');
        const nameInput = document.getElementById('loc-name');

        // –û—Å–Ω–æ–≤–Ω–∞ –º–∞–≥—ñ—è
        mapImg.addEventListener('click', function(e) {
            // –û—Ç—Ä–∏–º—É—î–º–æ —Ä–æ–∑–º—ñ—Ä–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏
            const rect = mapImg.getBoundingClientRect();
            
            // –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ –∫–ª—ñ–∫—É –≤—ñ–¥–Ω–æ—Å–Ω–æ –∫–∞—Ä—Ç–∏–Ω–∫–∏ (–≤ –ø—ñ–∫—Å–µ–ª—è—Ö)
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;

            // –ü–µ—Ä–µ–≤–æ–¥–∏–º–æ —É –≤—ñ–¥—Å–æ—Ç–∫–∏ (—Ü–µ —Å–∞–º–µ —Ç–µ, —â–æ —Ç—Ä–µ–±–∞ –¥–ª—è top/left)
            // toFixed(2) –æ–∫—Ä—É–≥–ª—é—î –¥–æ 2 –∑–Ω–∞–∫—ñ–≤ –ø—ñ—Å–ª—è –∫–æ–º–∏ (–Ω–∞–ø—Ä. 45.32)
            const leftPercent = ((x / rect.width) * 100).toFixed(2);
            const topPercent = ((y / rect.height) * 100).toFixed(2);

            // –ü–æ–∫–∞–∑—É—î–º–æ –º–∞—Ä–∫–µ—Ä
            marker.style.left = leftPercent + '%';
            marker.style.top = topPercent + '%';
            marker.style.display = 'block';

            // –§–æ—Ä–º—É—î–º–æ –≥–æ—Ç–æ–≤–∏–π –∫–æ–¥
            const id = idInput.value;
            const name = nameInput.value;
            
            // –§–æ—Ä–º–∞—Ç: ID: { top: Y, left: X, name: "Name" }
            const code = `${id}: { top: ${topPercent}, left: ${leftPercent}, name: "${name}" },`;
            
            output.value = code;
        });

        // –§—É–Ω–∫—Ü—ñ—è –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è
        function copyToClipboard() {
            output.select();
            document.execCommand('copy');
            alert("–ö–æ–¥ —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ! –í—Å—Ç–∞–≤—Ç–µ –π–æ–≥–æ –≤ map.html");
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±—ñ–ª—å—à—É—î–º–æ ID –¥–ª—è –Ω–∞—Å—Ç—É–ø–Ω–æ—ó —Ç–æ—á–∫–∏
            idInput.value = parseInt(idInput.value) + 1;
        }
    </script>

</body>
</html>
